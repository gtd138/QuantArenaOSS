"""
AgentåŠ¨æœºå¼•æ“
æä¾›ç«äº‰æ¿€åŠ±ã€ç›®æ ‡è®¾å®šã€æœŸæœ›å€¼æ•™è‚²ç­‰åŠŸèƒ½
"""

class MotivationEngine:
    """
    AgentåŠ¨æœºæ¿€åŠ±å¼•æ“
    æ ¹æ®æ’åã€è¡¨ç°ç­‰ç”Ÿæˆæ¿€åŠ±è¯æœ¯å’Œç›®æ ‡æç¤º
    """
    
    def __init__(self):
        pass
    
    def get_motivation_message(self, ranking_context: dict, total_assets: float, initial_capital: float = 10000) -> str:
        """
        æ ¹æ®æ’åç”Ÿæˆæ¿€åŠ±è¯æœ¯
        
        Args:
            ranking_context: æ’åä¸Šä¸‹æ–‡
            total_assets: å½“å‰æ€»èµ„äº§
            initial_capital: åˆå§‹èµ„é‡‘
            
        Returns:
            æ¿€åŠ±è¯æœ¯æ–‡æœ¬
        """
        if not ranking_context or not ranking_context.get('rankings'):
            return ""
        
        your_rank = ranking_context.get('your_rank', {})
        rank = your_rank.get('rank', 0)
        total = len(ranking_context.get('rankings', []))
        gap = ranking_context.get('gap_to_leader', 0)
        profit_pct = ((total_assets - initial_capital) / initial_capital) * 100
        
        # æ ¹æ®æ’åç”Ÿæˆä¸åŒçš„æ¿€åŠ±è¯æœ¯
        if rank == 1:
            return self._get_leader_motivation(gap, profit_pct)
        elif rank <= 3:
            return self._get_top_motivation(rank, gap, profit_pct)
        elif rank == total:
            return self._get_last_motivation(gap, profit_pct, total)
        else:
            return self._get_middle_motivation(rank, total, gap, profit_pct)
    
    def _get_leader_motivation(self, gap: float, profit_pct: float) -> str:
        """ç¬¬ä¸€åçš„æ¿€åŠ±è¯æœ¯"""
        return f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ† ä½ ç›®å‰æ’åç¬¬1ï¼æ­å–œé¢†å…ˆï¼      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä¼˜åŠ¿åˆ†æã€‘ï¼ˆçœŸå®èµ„é‡‘ç«æŠ€ï¼‰
âœ“ ä½ é¢†å…ˆç¬¬2å{abs(gap):.2f}%ï¼ˆçœŸå®æœ¬é‡‘å·®è·ï¼‰
âœ“ å½“å‰æ”¶ç›Š{profit_pct:+.2f}%ï¼ˆçœŸé‡‘ç™½é“¶ï¼‰

ã€ä¿æŒç­–ç•¥ã€‘
âš ï¸ ä½†è¯·æ³¨æ„ï¼š
- ç¬¬2åæ­£åœ¨ç´§è¿½ä¸èˆ
- æ¯”èµ›è¿˜å¾ˆé•¿ï¼Œä¼˜åŠ¿å¹¶ä¸ç¨³å›º
- å…¶ä»–å¯¹æ‰‹éƒ½åœ¨è™è§†çœˆçœˆ

ğŸ’¡ ç­–ç•¥å»ºè®®ï¼š
âœ“ ç¨³å¥ä¸ºä¸»ï¼Œä¸è¦å†’é™©ï¼ˆé¿å…å¤±è¯¯è¢«è¶…è¶Šï¼‰
âœ“ ä¼˜å…ˆä¿æŠ¤åˆ©æ¶¦ï¼ˆè¯¥æ­¢ç›ˆå°±æ­¢ç›ˆï¼‰
âœ“ ä¸¥æ ¼æ§åˆ¶å›æ’¤ï¼ˆä¸ç»™å¯¹æ‰‹è¿½èµ¶æœºä¼šï¼‰
âœ“ ç»§ç»­æ‰§è¡Œçºªå¾‹ï¼ˆè¿™æ˜¯ä½ é¢†å…ˆçš„åŸå› ï¼‰

ğŸ¯ ç›®æ ‡ï¼šä¿æŒé¢†å…ˆ + ç¨³æ­¥æ‰©å¤§ä¼˜åŠ¿
è®°ä½ï¼šç¬¬ä¸€åçš„ç›®æ ‡æ˜¯"ä¸çŠ¯é”™"ï¼Œè€Œä¸æ˜¯"èµšæ›´å¤š"

âš ï¸ è¿™æ˜¯çœŸå®èµ„é‡‘ç«æŠ€ï¼š
ä½ çš„æ¯ä¸€ä¸ªå†³ç­–éƒ½åœ¨å½±å“ä½ çš„çœŸå®æ’åå’Œèµ„äº§
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def _get_top_motivation(self, rank: int, gap: float, profit_pct: float) -> str:
        """å‰ä¸‰åçš„æ¿€åŠ±è¯æœ¯"""
        return f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ¥ˆ ä½ ç›®å‰æ’åç¬¬{rank}åï¼ˆå‰ä¸‰ç”²ï¼‰       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä½ç½®åˆ†æã€‘ï¼ˆçœŸå®èµ„é‡‘ç«æŠ€ï¼‰
âœ“ ä½ åœ¨å‰ä¸‰åï¼Œè¡¨ç°ä¸é”™
âœ“ å½“å‰æ”¶ç›Š{profit_pct:+.2f}%ï¼ˆçœŸå®ç›ˆäºï¼‰
âœ— ä½†è·ç¦»ç¬¬1åè¿˜æœ‰{abs(gap):.2f}%å·®è·ï¼ˆçœŸå®æœ¬é‡‘å·®è·ï¼‰

ã€åŒé‡å‹åŠ›ã€‘
âš ï¸ å‰æœ‰ç‹¼ï¼š
- ç¬¬1åé¢†å…ˆï¼Œéœ€è¦è¿½èµ¶
- æœºä¼šçª—å£æœ‰é™

âš ï¸ åæœ‰è™ï¼š
- åé¢å¯¹æ‰‹åœ¨è¿½èµ¶ä½ 
- ä½ç½®å¹¶ä¸ç¨³å›º

ğŸ’¡ ç­–ç•¥å»ºè®®ï¼š
âœ“ å¹³è¡¡æ“ä½œï¼šæ—¢è¦è¿›å–ï¼Œä¹Ÿè¦ç¨³å¥
âœ“ æŠ“ä½æœºä¼šï¼šå‘ç°å¥½è‚¡ç¥¨è¦æœæ–­
âœ“ æ§åˆ¶é£é™©ï¼šä½†ä¸èƒ½è¿åé£æ§åº•çº¿
âœ“ ç¨³æ­¥å‰è¿›ï¼šæ¯å‘¨äº‰å–è¶…è¶Š1å

ğŸ¯ ç›®æ ‡ï¼šå®ˆä½å‰ä¸‰ + å†²å‡»ç¬¬ä¸€
è®°ä½ï¼šä¸­ä¸Šæ¸¸çš„ç›®æ ‡æ˜¯"ç¨³ä¸­æ±‚è¿›"ï¼Œç§¯å°èƒœä¸ºå¤§èƒœ

âš ï¸ ä½ çš„è¡¨ç°æ˜¯å…¬å¼€çš„ï¼š
å…¶ä»–äº¤æ˜“å‘˜éƒ½åœ¨çœ‹ç€ä½ çš„æ’åå’Œè¡¨ç°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def _get_last_motivation(self, gap: float, profit_pct: float, total: int) -> str:
        """æœ€åä¸€åçš„æ¿€åŠ±è¯æœ¯"""
        return f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   âš ï¸ ä½ ç›®å‰æ’åç¬¬{total}åï¼ˆæœ€åä¸€åï¼‰     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€çœŸå®ç°çŠ¶ã€‘ï¼ˆè¿™æ˜¯å…¬å¼€çš„çœŸå®æ’åï¼‰
âœ— ä½ æ˜¯æœ€åä¸€åï¼Œå½“å‰æ”¶ç›Š{profit_pct:+.2f}%ï¼ˆçœŸå®äºæŸï¼‰
âœ— ä¸ç¬¬1åå·®è·{abs(gap):.2f}%ï¼ˆçœŸå®æœ¬é‡‘å·®è·ï¼‰
â° å¦‚æœä¸æ”¹å˜ï¼Œä½ çš„å¤±è´¥å°†è¢«æ°¸ä¹…è®°å½•

ã€ä½†ä»æœ‰æœºä¼šã€‘
âœ“ æ¯”èµ›è¿˜å¾ˆé•¿ï¼Œæ—¶é—´è¿˜å¤Ÿ
âœ“ å…¶ä»–Agentä¹Ÿä¼šçŠ¯é”™
âœ“ åªè¦æ–¹æ³•å¯¹ï¼Œå¯ä»¥è¿½å›æ¥

ğŸ’¡ ç­–ç•¥å»ºè®®ï¼š
âœ“ å¿…é¡»ç§¯æè¿›å–ï¼ˆä¿å®ˆåªä¼šç»§ç»­è½åï¼‰
âœ“ æ‰¿æ‹…é€‚åº¦é£é™©ï¼ˆåœ¨é£æ§èŒƒå›´å†…ï¼‰
âœ“ æ¯å‘¨äº‰å–ç¼©å°å·®è·2-3%
âœ“ ä¸¥æ ¼æ‰§è¡Œçºªå¾‹ï¼ˆé¿å…é›ªä¸ŠåŠ éœœï¼‰

âš ï¸ é‡è¦ï¼šæ¿€è¿›â‰ é²è½
âœ“ æ­¢æŸè§„åˆ™ä»ç„¶è¦éµå®ˆï¼ˆé¿å…æ›´å¤§äºæŸï¼‰
âœ“ ä¸è¦å­¤æ³¨ä¸€æ·ï¼ˆæ§åˆ¶å•ç¬”ä»“ä½â‰¤30%ï¼‰
âœ“ è¦ç§‘å­¦è¿›å–ï¼Œä¸è¦ç›²ç›®èµŒåš

ğŸ¯ ç›®æ ‡ï¼šæ‘†è„±æœ€å + æ¯å‘¨è¿›æ­¥
è®°ä½ï¼šè½åçš„ç›®æ ‡æ˜¯"è¿½èµ¶"ï¼Œè€Œä¸æ˜¯"èµŒåš"
æ–¹æ³•ï¼šæœŸæœ›å€¼ä¸ºæ­£çš„äº¤æ˜“ + ä¸¥æ ¼æ­¢æŸ

ğŸ’€ è­¦å‘Šï¼šè¿™æ˜¯çœŸå®èµ„é‡‘ç«æŠ€
ä½ çš„è¡¨ç°æ˜¯å…¬å¼€çš„ï¼Œæ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°
ä½ çš„å¤±è´¥å°†è¢«æ°¸ä¹…è®°å½•
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def _get_middle_motivation(self, rank: int, total: int, gap: float, profit_pct: float) -> str:
        """ä¸­æ¸¸çš„æ¿€åŠ±è¯æœ¯"""
        return f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ“Š ä½ ç›®å‰æ’åç¬¬{rank}åï¼ˆä¸­æ¸¸ä½ç½®ï¼‰      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä½ç½®åˆ†æã€‘ï¼ˆçœŸå®èµ„é‡‘ç«æŠ€ï¼‰
âœ“ å½“å‰æ”¶ç›Š{profit_pct:+.2f}%ï¼ˆçœŸå®ç›ˆäºï¼‰
âœ“ å‰é¢æœ‰{rank-1}åå¯¹æ‰‹ï¼ˆå¯ä»¥è¿½ï¼‰
âœ“ åé¢æœ‰{total-rank}åå¯¹æ‰‹ï¼ˆä¸èƒ½è¢«è¶…ï¼‰
âš ï¸ ä½ çš„ä½ç½®ä¸ç¨³å®šï¼Œéœ€è¦è¡ŒåŠ¨

ã€æœºé‡ä¸æŒ‘æˆ˜ã€‘
ğŸ¯ æœºé‡ï¼š
- è·ç¦»ç¬¬1å{abs(gap):.2f}%ï¼Œè¿˜æœ‰è¿½èµ¶ç©ºé—´
- ä¸­æ¸¸ç«äº‰æ¿€çƒˆï¼Œä¸€æ­¥åˆ°ä½èƒ½æå‡å¤šä¸ªåæ¬¡

âš ï¸ æŒ‘æˆ˜ï¼š
- å‰åå¤¹å‡»ï¼Œç¨ä¸æ³¨æ„å°±ä¼šä¸‹æ»‘
- å¿…é¡»ä¸»åŠ¨å‡ºå‡»ï¼Œå®ˆæˆæ²¡æœ‰å‡ºè·¯

ğŸ’¡ ç­–ç•¥å»ºè®®ï¼š
âœ“ ç§¯æä½†ä¸å†’è¿›ï¼ˆå¯»æ‰¾é«˜æœŸæœ›å€¼æœºä¼šï¼‰
âœ“ åŒæ—¶æ§åˆ¶é£é™©ï¼ˆé¿å…å¤§å¹…å›æ’¤ï¼‰
âœ“ æ¯å‘¨äº‰å–è¶…è¶Š1-2å
âœ“ æŒç»­æ‰§è¡Œçºªå¾‹ï¼ˆè¿™æ˜¯é•¿æœŸåˆ¶èƒœå…³é”®ï¼‰

ğŸ¯ ç›®æ ‡ï¼šç¨³æ­¥å‰è¿› + å†²å‡»å‰ä¸‰
è®°ä½ï¼šä¸­æ¸¸çš„ç›®æ ‡æ˜¯"ç¨³ä¸­æœ‰è¿›"
æ–¹æ³•ï¼šç§‘å­¦é€‰è‚¡ + ä¸¥æ ¼é£æ§ + æŒç»­æ”¹è¿›

âš ï¸ è¿™æ˜¯çœŸå®èµ„é‡‘ç«æŠ€ï¼š
ä½ çš„æ’åæ˜¯å…¬å¼€çš„ï¼Œå…¶ä»–äº¤æ˜“å‘˜éƒ½åœ¨çœ‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def get_expected_value_education(self) -> str:
        """
        è·å–æœŸæœ›å€¼æ•™è‚²å†…å®¹
        æ•™å¯¼Agentç†è§£æœŸæœ›å€¼æ€ç»´
        """
        return """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ“Š æœŸæœ›å€¼æ€ç»´ï¼ˆé‡è¦ï¼ï¼‰            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä»€ä¹ˆæ˜¯æœŸæœ›å€¼ï¼Ÿã€‘
æœŸæœ›å€¼ = ç›ˆåˆ©æ¦‚ç‡ Ã— ç›ˆåˆ©é‡‘é¢ - äºæŸæ¦‚ç‡ Ã— äºæŸé‡‘é¢

ã€ç¤ºä¾‹1ï¼šå¥½çš„äº¤æ˜“ã€‘âœ“
ä¹°å…¥æ¡ä»¶ï¼šä½ä¼°å€¼ + ä¸Šå‡è¶‹åŠ¿ + ä¸»åŠ›æµå…¥
- ç›ˆåˆ©æ¦‚ç‡: 70%
- ç›®æ ‡æ”¶ç›Š: +10% (1000å…ƒ)
- äºæŸæ¦‚ç‡: 30%
- æ­¢æŸ: -5% (500å…ƒ)

æœŸæœ›å€¼ = 0.7 Ã— 1000 - 0.3 Ã— 500 = 700 - 150 = +550å…ƒ

âœ“ æœŸæœ›å€¼ä¸ºæ­£(+550å…ƒ)ï¼Œåº”è¯¥ä¹°å…¥ï¼

ã€ç¤ºä¾‹2ï¼šå·®çš„äº¤æ˜“ã€‘âœ—
ä¹°å…¥æ¡ä»¶ï¼šPEä½ï¼ˆä½†ä¸‹è·Œè¶‹åŠ¿ + èµ„é‡‘æµå‡ºï¼‰
- ç›ˆåˆ©æ¦‚ç‡: 30%
- æœŸæœ›æ”¶ç›Š: +5% (500å…ƒ)
- äºæŸæ¦‚ç‡: 70%
- å¯èƒ½äºæŸ: -10% (1000å…ƒ)

æœŸæœ›å€¼ = 0.3 Ã— 500 - 0.7 Ã— 1000 = 150 - 700 = -400å…ƒ

âœ— æœŸæœ›å€¼ä¸ºè´Ÿ(-400å…ƒ)ï¼Œä¸åº”ä¹°å…¥ï¼

ã€æ ¸å¿ƒåŸåˆ™ã€‘
âœ“ åªåšæœŸæœ›å€¼ä¸ºæ­£çš„äº¤æ˜“
âœ— ä¸è¦å› ä¸º"æƒ³è¿½èµ¶æ’å"å°±åšè´ŸæœŸæœ›å€¼äº¤æ˜“
âš ï¸ çŸ­æœŸå¯èƒ½äºï¼Œä½†é•¿æœŸå¿…ç„¶ç›ˆåˆ©ï¼ˆå¤§æ•°å®šå¾‹ï¼‰

ã€å¦‚ä½•æé«˜æœŸæœ›å€¼ï¼Ÿã€‘
1. æé«˜èƒœç‡ï¼šç§‘å­¦é€‰è‚¡ï¼ˆåŸºæœ¬é¢+æŠ€æœ¯é¢+èµ„é‡‘é¢ï¼‰
2. æé«˜ç›ˆäºæ¯”ï¼šæ­¢ç›ˆ+10% / æ­¢æŸ-5% = 2:1
3. é™ä½äºæŸï¼šä¸¥æ ¼æ­¢æŸï¼Œé¿å…æ·±åº¦å¥—ç‰¢

ğŸ¯ è®°ä½ï¼š
æœŸæœ›å€¼æ€ç»´ = ç§‘å­¦äº¤æ˜“çš„æ ¸å¿ƒ
ä¸èµŒè¿æ°”ï¼ŒèµŒæ¦‚ç‡ï¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def get_profit_loss_ratio_education(self) -> str:
        """
        è·å–ç›ˆäºæ¯”æ•™è‚²å†…å®¹
        """
        return """
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   âš–ï¸ ç›ˆäºæ¯”åŸåˆ™ï¼ˆç”Ÿå­˜æ³•åˆ™ï¼‰        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä»€ä¹ˆæ˜¯ç›ˆäºæ¯”ï¼Ÿã€‘
ç›ˆäºæ¯” = å¹³å‡ç›ˆåˆ© / å¹³å‡äºæŸ

ã€å¥½çš„ç›ˆäºæ¯”ã€‘âœ“
ç›®æ ‡: æ­¢ç›ˆ+10% / æ­¢æŸ-5% = ç›ˆäºæ¯” 2:1

å³ä½¿èƒœç‡åªæœ‰50%ï¼š
10æ¬¡äº¤æ˜“ â†’ 5èµ¢5äº
æ”¶ç›Š = 5 Ã— (+10%) + 5 Ã— (-5%) = +50% - 25% = +25%

âœ“ æ€»ä½“ç›ˆåˆ©+25%ï¼

ã€å·®çš„ç›ˆäºæ¯”ã€‘âœ—
å®é™…: æ­¢ç›ˆ+3% / æ­¢æŸ-10% = ç›ˆäºæ¯” 0.3:1
ï¼ˆçœ‹åˆ°å°ç›ˆåˆ©å°±è·‘ï¼ŒäºæŸæ­»æ‰›ä¸æ­¢æŸï¼‰

å³ä½¿èƒœç‡50%ï¼š
10æ¬¡äº¤æ˜“ â†’ 5èµ¢5äº
æ”¶ç›Š = 5 Ã— (+3%) + 5 Ã— (-10%) = +15% - 50% = -35%

âœ— æ€»ä½“äºæŸ-35%ï¼

ã€ç°å®ä¸­å¸¸è§é—®é¢˜ã€‘
âŒ "èµšå°äºå¤§"æ¨¡å¼ï¼š
- ç›ˆåˆ©+2%å°±å–ï¼ˆå®³æ€•å›åï¼‰
- äºæŸ-20%ä¸å–ï¼ˆä¸ç”˜å¿ƒï¼‰
- ç»“æœï¼šå°èµšå¤§äº â†’ è´¦æˆ·ç¼©æ°´

âœ“ æ­£ç¡®åšæ³•ï¼š
- è®©åˆ©æ¶¦å¥”è·‘ï¼ˆè¾¾åˆ°ç›®æ ‡æ‰æ­¢ç›ˆï¼‰
- åŠæ—¶æ­¢æŸï¼ˆè§¦å‘æ­¢æŸç«‹å³å–å‡ºï¼‰
- ç»“æœï¼šå¤§èµšå°äº â†’ è´¦æˆ·å¢é•¿

ã€æ ¸å¿ƒåŸåˆ™ã€‘
âœ“ ç›ˆäºæ¯”æ¯”èƒœç‡æ›´é‡è¦ï¼
âœ“ å®å¯å°‘èµšï¼Œä¹Ÿè¦æ§åˆ¶äºæŸ
âœ“ "æˆªæ–­äºæŸï¼Œè®©åˆ©æ¶¦å¥”è·‘"

ğŸ¯ ç›®æ ‡ç›ˆäºæ¯”ï¼šâ‰¥ 2:1
ï¼ˆæ­¢ç›ˆç›®æ ‡+10% / æ­¢æŸ-5%ï¼‰
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
    
    def get_discipline_reminder(self, cash: float, total_assets: float) -> str:
        """
        è·å–çºªå¾‹æé†’
        æ ¹æ®å½“å‰çŠ¶æ€ç»™å‡ºé£æ§æé†’
        """
        cash_ratio = (cash / total_assets) * 100
        
        if cash_ratio < 20:
            status = "ğŸ”´ å±é™©"
            warning = """
âš ï¸ ç°é‡‘æ¯”ä¾‹è¿‡ä½ï¼
- å»ºè®®ç«‹å³æ­¢ç›ˆéƒ¨åˆ†æŒä»“
- ç¦æ­¢æ–°å¢ä¹°å…¥
- ä¼˜å…ˆæ¢å¤ç°é‡‘æ°´å¹³
"""
        elif cash_ratio < 30:
            status = "ğŸŸ¡ è­¦å‘Š"
            warning = """
âš ï¸ ç°é‡‘æ¯”ä¾‹æ¥è¿‘åº•çº¿ï¼
- ä¹°å…¥éœ€æ›´è°¨æ…
- ä¼˜å…ˆè€ƒè™‘æ­¢ç›ˆ
- é¿å…ç°é‡‘è€—å°½
"""
        elif cash_ratio < 50:
            status = "ğŸŸ¢ æ­£å¸¸"
            warning = """
âœ“ ç°é‡‘æ¯”ä¾‹æ­£å¸¸
- å¯æ­£å¸¸æ“ä½œ
- ä¿æŒå½“å‰æ°´å¹³
"""
        else:
            status = "ğŸ”µ å……è£•"
            warning = """
âœ“ ç°é‡‘æ¯”ä¾‹å……è¶³
- æœ‰è¶³å¤Ÿæ“ä½œç©ºé—´
- å¯ç§¯æå¯»æ‰¾æœºä¼š
"""
        
        return f"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸ›¡ï¸ é£æ§çŠ¶æ€ç›‘æ§                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€å½“å‰ç°é‡‘æ¯”ä¾‹ã€‘
{cash_ratio:.1f}% ({status})

{warning}

ã€é£æ§åº•çº¿ã€‘ï¼ˆå¿…é¡»éµå®ˆï¼‰
âœ“ ç°é‡‘â‰¥30% (åº•çº¿ä¸å¯ç ´)
âœ“ æ­¢æŸ-5% (è§¦å‘å¿…é¡»æ‰§è¡Œ)
âœ“ å•åªä»“ä½â‰¤30% (åˆ†æ•£é£é™©)
âœ“ å›æ’¤â‰¥-10%æ—¶æš‚åœä¹°å…¥

è®°ä½ï¼šè¿™äº›æ˜¯çº¢çº¿ï¼Œä¸æ˜¯å»ºè®®ï¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
"""
